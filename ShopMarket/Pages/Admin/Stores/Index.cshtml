@page
@using ShopMarket.Core.Utilities.Convertors
@model ShopMarket.Pages.Admin.Stores.IndexModel

@{
    ViewData["Title"] = "فروشگاه ها";
    ViewData["page"] = "stores";
    ViewData["sub-page"] = "activeStores";
}


<section class="section">
    <div class="card">
        <div class="card-header">
            لیست فروشگاه ها سایت
        </div>
        <a asp-page="Create" class="btn btn-primary m-2">افزودن فروشگاه جدید</a>
        <div class="card-body">
            <table class="table table-striped" id="storesTable">
                <thead>
                    <tr>
                        <th>آیدی فروشگاه</th>
                        <th>نام فروشگاه</th>
                        <th>توضیحات</th>
                        <th>آدرس</th>
                        <th>تاریخ ثبت</th>
                        <th>عملیات</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var store in Model.Stores)
                    {
                        <tr>
                            <td>@store.Id</td>
                            <td>@store.StoreName</td>
                            <td>@store.StoreDescription</td>
                            <td>@store.StoreAddress</td>
                            <td>@store.CreationDate.ToShamsi()</td>
                            <td>
                                <a asp-page="Edit" asp-route-id="@store.Id" class="btn btn-sm btn-outline-warning">ویرایش</a>
                                <a asp-page="Details" asp-route-id="@store.Id" class="btn btn-sm btn-outline-info">جزئیات</a>
                                <a asp-page="Delete" asp-route-id="@store.Id" class="btn btn-sm btn-outline-danger">حذف</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

</section>

@section Scripts
{
    <script src="/admin-panel/vendors/simple-datatables/simple-datatables.js"></script>

    <script>

        // Simple Datatable
        let table1 = document.querySelector('#storesTable');
        let dataTable = new simpleDatatables.DataTable(table1);
    </script>
}
